# DDQ的算子库

在这个文件夹中，保存DDQ的所有算子库。


## 算子库集合的指定

这些算子库可以在targets/Makefile.inc.$(target)里通过operators变量选取。

每个算子库的名字，就是在此处的文件夹名字，或从此处开始的多层文件夹的路径。


## 算子库的制作

在算子库指定的文件夹里，应当有一个Makefile，它应当能生成一些诸如.so/.dat/.out/.dll/.a等格式的库文件，也可以放置或生成.ddq格式的ddq脚本问卷。

可以通过多层目录结构，实现算子群的打包和归类等。
上层文件夹的Makefile可以派分编译任务，具体技术细节可以参考std算子库的设计。

一般来说，算子应当编译为动态库文件，比如linux标准的.so文件或天河异构平台的.dat文件等。
对于一些不支持动态库的系统，比如神威平台等，可以编译为静态的.a文件。此时需要在声明这些算子的.h文件中加入特定格式的注释，其中包含对load\_builtin\_register()函数的调用，以备oplib采集。具体技术细节可以参考std算子库的相关文件。

算子库里的所有对象类型和算子都需要用.ddq文件声明。具体技术细节可以参考std算子库的相关文件。


## 分布式版本控制

此处的文件夹或子文件夹可以是git的子模块，因此可以来源于不同的仓库，实现分布式维护。




